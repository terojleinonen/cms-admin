{
  "version": "1.0.0",
  "description": "Regression testing configuration for RBAC system",
  
  "testSuites": {
    "permission": {
      "pattern": "permission|auth|role",
      "critical": true,
      "timeout": 300000,
      "coverage": {
        "minimum": 90,
        "threshold": 85
      }
    },
    "security": {
      "pattern": "security.*test",
      "critical": true,
      "timeout": 180000,
      "coverage": {
        "minimum": 95,
        "threshold": 90
      }
    },
    "performance": {
      "pattern": "performance",
      "critical": false,
      "timeout": 600000,
      "coverage": {
        "minimum": 80,
        "threshold": 75
      }
    },
    "integration": {
      "pattern": "integration.*permission",
      "critical": true,
      "timeout": 300000,
      "coverage": {
        "minimum": 85,
        "threshold": 80
      }
    },
    "e2e": {
      "pattern": "e2e.*permission",
      "critical": false,
      "timeout": 900000,
      "coverage": {
        "minimum": 70,
        "threshold": 65
      }
    }
  },
  
  "performance": {
    "thresholds": {
      "permissionCheck": {
        "max": 50,
        "p95": 100,
        "p99": 200
      },
      "cacheOperation": {
        "max": 10,
        "p95": 20,
        "p99": 50
      },
      "databaseQuery": {
        "max": 100,
        "p95": 200,
        "p99": 500
      },
      "apiResponse": {
        "max": 200,
        "p95": 400,
        "p99": 1000
      },
      "errorRate": {
        "max": 0.01
      }
    },
    "regressionThresholds": {
      "permissionCheck": 10,
      "cacheOperation": 15,
      "databaseQuery": 20,
      "apiEndpoint": 25
    },
    "concurrentUsers": {
      "max": 1000,
      "step": 100,
      "duration": 60
    }
  },
  
  "security": {
    "vulnerabilityThresholds": {
      "critical": 0,
      "high": 0,
      "moderate": 5,
      "low": 10
    },
    "scanTypes": [
      "npm-audit",
      "permission-boundary",
      "authentication-security",
      "sql-injection",
      "xss-protection",
      "csrf-protection"
    ],
    "excludePatterns": [
      "node_modules/**",
      "coverage/**",
      "dist/**",
      ".next/**"
    ]
  },
  
  "reporting": {
    "formats": ["json", "html"],
    "artifacts": {
      "retention": 30,
      "compression": true
    },
    "notifications": {
      "onFailure": true,
      "onRegression": true,
      "onImprovement": false
    }
  },
  
  "ci": {
    "triggers": {
      "push": ["main", "develop"],
      "pullRequest": ["main"],
      "schedule": "0 2 * * *"
    },
    "parallelism": {
      "maxJobs": 4,
      "testSplitting": true
    },
    "caching": {
      "dependencies": true,
      "testResults": true,
      "performanceBaselines": true
    }
  },
  
  "environments": {
    "test": {
      "database": "postgresql://postgres:postgres@localhost:5432/test_db",
      "redis": "redis://localhost:6379",
      "auth": {
        "secret": "test-secret",
        "url": "http://localhost:3000"
      }
    },
    "ci": {
      "database": "postgresql://postgres:postgres@localhost:5432/test_db",
      "redis": "redis://localhost:6379",
      "auth": {
        "secret": "ci-test-secret",
        "url": "http://localhost:3000"
      }
    }
  }
}